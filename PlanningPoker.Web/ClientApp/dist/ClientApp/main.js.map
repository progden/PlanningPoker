{"version":3,"sources":["./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/card/card.component.ts","./src/app/card/card.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit, NgModule } from '@angular/core';\nimport { ajax, AjaxResponse } from 'rxjs/ajax';\nimport { map, catchError, tap } from 'rxjs/operators';\nimport { interval, Observable, of, Subject} from 'rxjs';\nimport { HubConnection, HubConnectionBuilder } from '@microsoft/signalr';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.sass']\n})\nexport class AppComponent implements OnInit {\n\n  title = 'ClientApp';\n\n  games?: Game[] ;\n  game?: Game;\n  players?: Player[];\n  // player?: Player;\n\n  gameId?: string;\n  userName: string = \"測試人員\";\n\n  option = \"0|0.5|1|2|3|5|8|13|20|40|100|coffee|infinity|?\".split(\"|\");\n  pick = \"\";\n\n  ngOnInit()\n  {\n\n    var connection: HubConnection = new HubConnectionBuilder().withUrl(\"/game/hub\").build();\n    connection.on(\"ReceiveGame\", (games: Game[]) => {\n      console.log(\"ReceiveGame\");\n      console.log(games);\n      this.games = games;\n      this.game = this.games?.find(g => g.id == this.gameId);\n      this.players = this.game?.players;\n      // this.player = this.players?.find(p => p.name = this.userName);\n    });\n\n    connection.start()\n    .then(() => {\n      console.log(\"connection start!\");\n      this.loadGame();\n    })\n    .catch((err) => {\n      return console.error(err.toString());\n    });\n  }\n\n  loadGame()\n  {\n    ajax({\n      url: \"game\",\n    })\n    .pipe(\n      tap(x => console.log(\"game loaded!\"))\n    )\n    .subscribe(d => {\n    });\n  }\n\n  newGame()\n  {\n    console.log(\"New Game\");\n    ajax({\n      url: `game/${this.userName}`,\n      method: \"post\"\n    })\n    .subscribe();\n  }\n\n  pickGame(gameId: string)\n  {\n    this.gameId = gameId;\n    this.game = this.games?.find(g => g.id == this.gameId);\n    this.players = this.game?.players;\n  }\n\n  dropGame(gameId: string)\n  {\n    if(this.gameId == gameId)\n      this.gameId = undefined;\n    ajax({\n      url: `game/${gameId}`,\n      method: \"delete\"\n    })\n    .pipe(\n      tap(x => console.log(`delete game ${gameId}`))\n    )\n    .subscribe(d => {\n    });\n  }\n\n  addUser()\n  {\n    ajax({\n      url: `game/${this.game?.id}/user/${this.userName}`,\n      method: 'post',\n    })\n    .pipe(\n      tap(x => console.log(`add user ${this.userName}`)),\n    )\n    .subscribe(d => {\n    });\n  }\n\n  kickUser(userId?: string)\n  {\n    ajax({\n      url: `game/${this.gameId}/user/${userId}`,\n      method: 'delete',\n    })\n    .pipe(\n      tap(x => console.log(`kick user`)),\n    )\n    .subscribe(d => {\n    });\n  }\n\n  DoCancel()\n  {\n    let player = this.GetUser()\n    this.pick = \"\";\n    ajax({\n      url: `game/${this.gameId}/user/${player?.id}/cancel`,\n      method: \"post\"\n    })\n    .pipe(\n      tap(d => console.log(`user: ${player?.name}, cancel`))\n    )\n    .subscribe();\n  }\n  DoPick(card: string)\n  {\n    let player = this.GetUser()\n    this.pick = card;\n    ajax({\n      url: `game/${this.gameId}/user/${player?.id}/poll/${card}`,\n      method: \"post\"\n    })\n    .pipe(\n      tap(d => console.log(`user: ${player?.name}, pick: ${this.pick}`))\n    )\n    .subscribe();\n  }\n\n  GetUser()\n  {\n    return this.game?.players.find(p => p.name == this.userName);\n  }\n\n  GameSet():boolean\n  {\n    return this.game?.players.findIndex(p => p.pick == \"not-yet\") == -1;\n  }\n\n  IsJoinGame(): boolean\n  {\n    return this.players?.findIndex(p => p.name == this.userName) != -1;\n  }\n}\n\ninterface Player\n{\n  id: string;\n  name: string;\n  color: string;\n  pick: string\n}\n\ninterface Game\n{\n  id: string\n  players: Player[];\n}\n","<!-- <h1>DEBUG</h1>\ngameID: {{gameId}} <br/>\nuserName: {{userName}} <br/>\n<br/>\ngames: {{this.games?.length}} <br/>\ngame: {{this.game}} <br/>\nplayers: {{this.players?.length}} <br/>\nplayer: {{this.GetUser()}} -->\n<!-- player: {{this.player}} -->\n<!-- <hr> -->\n<h3>規劃遊戲</h3>\n<button (click)=\"newGame()\">New Game</button> <br>\n名字: <input [(ngModel)]=\"userName\"><button *ngIf=\"!IsJoinGame()\" (click)=\"addUser()\">重新加入</button>\n<ul>\n  <li *ngFor=\"let item of games\">{{item.id}} - {{item.players.length}} players\n    <button (click)=\"dropGame(item.id)\">刪除</button>\n    <button *ngIf=\"item.id != gameId\" (click)=\"pickGame(item.id)\">Join</button>\n  </li>\n</ul>\n<h4>參加人員</h4>\n<ul>\n  <li *ngFor=\"let p of this.players\">\n    <button (click)=\"kickUser(p.id)\">踢出</button>\n    {{p.id}} - {{p.name}}\n    <span *ngIf=\"p.pick == 'not-yet'\">(選擇中)</span>\n    <span *ngIf=\"p.name == userName\">(您)</span>\n  </li>\n</ul>\n<h4>結果是?!?! </h4>\n<div *ngIf=\"GameSet()\">\n  <span *ngFor=\"let item of this.players\">\n    <div style=\"display: inline-block\">\n      <app-card color=\"{{item.color}}\" set=\"{{item.pick}}\"></app-card>\n      {{item.name}}\n      <button *ngIf=\"item.name == userName && item.pick != 'not-yet'\" (click)=\"DoCancel()\">取消</button>\n    </div>\n  </span>\n</div>\n<div *ngIf=\"!GameSet()\">\n  <span *ngFor=\"let item of this.players\">\n    <div *ngIf=\"item.name == userName\" style=\"display: inline-block\">\n      <app-card color=\"{{item.color}}\" set=\"{{item.pick}}\"></app-card>\n      {{item.name}}\n      <button *ngIf=\"item.name == userName && item.pick != 'not-yet'\" (click)=\"DoCancel()\">取消</button>\n    </div>\n  </span>\n</div>\n<!-- <div style=\"display: inline-block;\">\n  <app-card  set=\"{{pick}}\"></app-card>\n  你({{userName}}) <button (click)=\"DoCancel()\">收回</button>\n</div> -->\n<div *ngIf=\"GetUser()?.pick == 'not-yet'\">\n  <h4>出牌</h4>\n  <span *ngFor=\"let item of option\" >\n    <div style=\"display: inline-block;\">\n      <app-card color=\"{{GetUser()?.color}}\" set=\"{{item}}\"></app-card>\n      <button (click)=\"DoPick(item)\">出牌</button>\n    </div>\n  </span>\n</div>\n\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { CardComponent } from './card/card.component';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    CardComponent\n  ],\n  imports: [\n    BrowserModule,\n    FontAwesomeModule,\n    BrowserAnimationsModule,\n    FormsModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { FaIconComponent } from '@fortawesome/angular-fontawesome';\nimport { IconProp } from '@fortawesome/fontawesome-svg-core';\nimport { faInfinity, faMugHot } from '@fortawesome/free-solid-svg-icons'\n\n@Component({\n  selector: 'app-card',\n  templateUrl: './card.component.html',\n  styleUrls: ['./card.component.sass'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CardComponent implements OnInit {\n  data = new Map([\n                   [\"0\", { value: \"0\", icon: \"\"}],\n                   [\"0.5\", { value: \"0.5\", icon: \"\"}],\n                   [\"1\", { value: \"1\", icon: \"\"}],\n                   [\"2\", { value: \"2\", icon: \"\"}],\n                   [\"3\", { value: \"3\", icon: \"\"}],\n                   [\"5\", { value: \"5\", icon: \"\"}],\n                   [\"8\", { value: \"8\", icon: \"\"}],\n                   [\"13\", { value: \"13\", icon: \"\"}],\n                   [\"20\", { value: \"20\", icon: \"\"}],\n                   [\"40\", { value: \"40\", icon: \"\"}],\n                   [\"100\", { value: \"100\", icon: \"\"}],\n                   [\"coffee\", { value: \"\", icon: \"assets/img/mug-hot.svg\"}],\n                   [\"inf\", { value: \"\", icon: \"assets/img/infinity.svg\"}],\n                   [\"infinity\", { value: \"\", icon: \"assets/img/infinity.svg\"}],\n                   [\"Q\", { value: \"?\", icon: \"\"}],\n                   [\"?\", { value: \"?\", icon: \"\"}],\n                   [\"not-yet\", { value: \"\", icon: \"assets/img/pen.svg\"}],\n                ]);\n\n  @Input()\n  set: string = \"custom\";\n\n  @Input()\n  value?:string;\n\n  @Input()\n  icon?:string;\n\n  @Input()\n  color: string = \"red\";\n\n  constructor() { }\n\n  ngOnInit(): void {\n    if(this.set != \"\" && this.data.has(this.set))\n    {\n      this.value = this.data.get(this.set)?.value;\n      this.icon = this.data.get(this.set)?.icon;\n    }\n    else\n    {\n      this.value = \"?\";\n    }\n  }\n\n}\n","<div class=\"card\" style=\"background-color: {{color}};\">\n  <div class=\"inner\">\n    <span class=\"value\">{{value}}</span>\n    <img *ngIf=\"icon\" src=\"{{icon}}\" />\n  </div>\n</div>\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}